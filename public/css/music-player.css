/* Music Player - matches the site's glassy, rounded aesthetic */
:root {
  --mp-bg: var(--surface, rgba(255, 255, 255, 0.85));
  --mp-text: var(--text, #1C1C28);
  --mp-muted: var(--muted, #607D8B);
  --mp-accent: var(--accent, #03A9F4);
  --mp-shadow: var(--shadow-soft, 0 10px 30px rgba(16,24,40,.12));
  --mp-radius: var(--radius-xl, 20px);
  --mp-border: var(--border-subtle, 1px solid rgba(3, 169, 244, 0.15));

  /* mobile safe area + dynamic bottom padding */
  --mp-safe-bottom: env(safe-area-inset-bottom, 0px);
  --mp-page-pad: 0px;
}

#music-player-root { all: initial; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }

.mp-wrap {
  position: fixed;
  right: 20px;
  bottom: 20px;
  z-index: 9999;
}

.mp {
  width: 360px;
  background: var(--mp-bg);
  color: var(--mp-text);
  border-radius: var(--mp-radius);
  backdrop-filter: blur(8px);
  box-shadow: var(--mp-shadow);
  border: var(--mp-border);
  overflow: hidden;
}

.mp.hidden { display: none !important; }

.mp-header {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 14px;
  border-bottom: var(--mp-border);
}

.mp-cover {
  width: 44px;
  height: 44px;
  border-radius: 12px;
  object-fit: cover;
  background: rgba(0,0,0,.06);
}

.mp-titles { flex: 1; min-width: 0; }
.mp-title { font-weight: 600; font-size: 14px; line-height: 1.2; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.mp-artist { font-size: 12px; color: var(--mp-muted); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

.mp-actions { display: flex; gap: 6px; }
.mp-btn {
  background: transparent;
  border: 0;
  width: 36px;
  height: 36px;
  border-radius: 10px;
  display: grid;
  place-items: center;
  cursor: pointer;
  color: var(--mp-text);
}
.mp-btn:hover { background: rgba(3,169,244,0.08); }

.mp-body { padding: 12px 14px; }

.mp-seek { display: grid; grid-template-columns: auto 1fr auto; align-items: center; gap: 10px; }
.mp-time { font-variant-numeric: tabular-nums; font-size: 12px; color: var(--mp-muted); min-width: 40px; text-align: center; }

.mp-range {
  -webkit-appearance: none; appearance: none; height: 6px; border-radius: 999px; background: rgba(3,169,244,0.15); outline: none;
}
.mp-range::-webkit-slider-thumb {
  -webkit-appearance: none; appearance: none; width: 14px; height: 14px; background: var(--mp-accent); border-radius: 50%;
  box-shadow: 0 0 0 4px rgba(3,169,244,0.2);
}
.mp-range::-moz-range-thumb {
  width: 14px; height: 14px; background: var(--mp-accent); border: none; border-radius: 50%;
}

.mp-controls { display: grid; grid-template-columns: 1fr auto 1fr; align-items: center; gap: 10px; margin-top: 8px; }
.mp-nav { display: flex; justify-content: center; align-items: center; gap: 6px; }
.mp-primary {
  width: 44px; height: 44px; border-radius: 50%; background: linear-gradient(135deg, var(--mp-accent), var(--accent-2, #29B6F6)); color: white;
  border: none; display: grid; place-items: center; cursor: pointer; box-shadow: var(--mp-shadow);
}
.mp-primary:hover { filter: brightness(1.05); }
.mp-secondary { width: 36px; height: 36px; border-radius: 50%; border: var(--mp-border); background: transparent; cursor: pointer; }

.mp-right { display: flex; justify-content: flex-end; align-items: center; gap: 10px; }
.mp-vol { width: 90px; }

/* Mini player */
.mp-mini {
  width: 260px;
  background: var(--mp-bg);
  color: var(--mp-text);
  border-radius: var(--mp-radius);
  backdrop-filter: blur(8px);
  box-shadow: var(--mp-shadow);
  border: var(--mp-border);
  display: flex; align-items: center; gap: 8px;
  padding: 8px 10px;
}

.mp-mini .title { font-size: 12px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.mp-mini .mp-btn { width: 28px; height: 28px; border-radius: 8px; }

/* Toast (autoplay blocked) */
.mp-toast {
  position: fixed; bottom: 90px; right: 20px;
  background: var(--mp-bg); border: var(--mp-border); box-shadow: var(--mp-shadow); border-radius: 12px;
  padding: 10px 12px; font-size: 13px; color: var(--mp-text);
  display: none;
}
.mp-toast.show { display: block; }

/* Mobile adjustments: keep player from covering content */
@media (max-width: 640px) {
  html, body {
    padding-bottom: calc(var(--mp-page-pad, 0px) + var(--mp-safe-bottom, 0px));
  }
  .mp-wrap {
    right: 12px;
    bottom: calc(var(--mp-safe-bottom, 0px) + 12px);
  }
  .mp {
    width: min(92vw, 360px);
  }
  .mp-mini {
    width: min(88vw, 280px);
  }
}
